<!-- Sign Up page -->
<ion-view cache-view="false" title="Cadastro" hide-nav-bar="true">
  <ion-content padding="true" class="item-content" scroll="true">
    <a class="button icon-top ion-chevron-left button-clear button-dark" ui-sref="signin">Voltar</a>

    <form id="cadastro" class="list" name="userForm" ng-submit="registerEmail(user)" novalidate>

      <!-- Fields to put informations like email, password and password confirmation -->
      <ion-list id="signup-list2">

        <ion-item class="item-input">
          <label id="first_name">
            <input name="first_name" ng-model="user.first_name" type="text" placeholder="Primeiro Nome" required>
            <h3 class="validation-msg" ng-show="userForm.first_name.$invalid && !userForm.first_name.$pristine" class="nav-bar-block">
              Seu nome é obrigatório
            </h3>
          </label>
        </ion-item>

        <ion-item class="item-input">
          <label id="last_name">
            <input name="last_name" ng-model="user.last_name" type="text" placeholder="Último Nome" required>
            <h3 class="validation-msg" ng-show="userForm.last_name.$invalid && !userForm.last_name.$pristine" class="nav-bar-block">
              Seu sobrenome é obrigatório
            </h3>
          </label>
        </ion-item>

        <ion-item class="item-input">
          <label>
            <input name="email" type="email" ng-model="user.email" placeholder="Email" required></textarea>
            <h3 class="validation-msg" ng-show="userForm.email.$invalid && !userForm.email.$pristine" class="nav-bar-block">
              Seu e-mail é obrigatório
            </h3>
            <h3 class="validation-msg" ng-show="invalidEmail && !userForm.email.$invalid" class="nav-bar-block">
              Este email já está em uso!
            </h3>
          </label>
        </ion-item>

        <ion-item class="item-input">
          <label>
            <input type="password" name="password" ng-model="secret.password" placeholder="Senha" required />
            <h3 class="validation-msg" ng-show="userForm.password.$invalid && userForm.password.$touched" class="nav-bar-block">
              Entre com uma senha
            </h3>
          </label>
        </ion-item>

        <ion-item class="item-input">
          <label>
            <input ng-click="count = 0" ng-init="count = 0" ng-keydown="count = count + 1" type="password" name="password_confirmation" ng-model="secret.password_confirmation" placeholder="Confirmação da Senha" required="" confirm-pwd="secret.password" />
            <h3 class="validation-msg" ng-show="(count < 1) && userForm.password_confirmation.$touched" class="nav-bar-block">
              Confirmação de senha requerida
            </h3>
            <h3 class="validation-msg" ng-show="(userForm.password_confirmation.$valid != userForm.password.$valid) && (count > 0)" class="nav-bar-block">
              Senha diferente
            </h3>
          </label>
        </ion-item>

        <ion-item class="item-input item-select">
          <label>
            <span class="input-label">Estado</span>
            <select ng-model="user.city" name="estado" required>
              <br>
              <option value="" disabled>Selecione um Estado</option>
              <option value="ac">Acre</option>
              <option value="al">Alagoas</option>
              <option value="am">Amazonas</option>
              <option value="ap">Amapá</option>
              <option value="ba">Bahia</option>
              <option value="ce">Ceará</option>
              <option value="df">Distrito Federal</option>
              <option value="es">Espírito Santo</option>
              <option value="go">Goiás</option>
              <option value="ma">Maranhão</option>
              <option value="mt">Mato Grosso</option>
              <option value="ms">Mato Grosso do Sul</option>
              <option value="mg">Minas Gerais</option>
              <option value="pa">Pará</option>
              <option value="pb">Paraíba</option>
              <option value="pr">Paraná</option>
              <option value="pe">Pernambuco</option>
              <option value="pi">Piauí</option>
              <option value="rj">Rio de Janeiro</option>
              <option value="rn">Rio Grande do Norte</option>
              <option value="ro">Rondônia</option>
              <option value="rs">Rio Grande do Sul</option>
              <option value="rr">Roraima</option>
              <option value="sc">Santa Catarina</option>
              <option value="se">Sergipe</option>
              <option value="sp">São Paulo</option>
              <option value="to">Tocantins</option>
            </select>
          </label>
        </ion-item>

        <ion-item class="item-input item-select">
          <label>
            <div class="input-label">
              Gênero
            </div>
            <h3 class="validation-msg" ng-show="userForm.genero.$invalid && !userForm.genero.$pristine" class="help-block">
              Selecione seu genero
            </h3>
            <select ng-model="user.gender" name="genero" required>
              <br>
              <option value="" disabled>Selecione um Sexo</option>
              <option value="female">Feminino</option>
              <option value="male">Masculino</option>
            </select>
          </label>
        </ion-item>

        <ion-item class="item-input item-select">
          <label>
            <div class="input-label">
              Tipo de Perfil
            </div>
            <h3 class="validation-msg" ng-show="userForm.profile_type.$invalid && !userForm.profile_type.$pristine" class="help-block">
              Selecione seu tipo de perfil!
            </h3>
            <select ng-model="user.profile" name="profile_type" required>
              <option value="" disabled>Selecione um Tipo de Perfil</option>
              <option ng-repeat="profile in profiles" value="{{profile.perfil}}">{{profile.perfil}}</option>
            </select>
          </label>
        </ion-item>
      </ion-list>
      <!-- Button confirmation of sign up only works if all fields are filled -->
      <button type="submit" id="signup-button5" ng-disabled="userForm.$invalid" class="button button-positive button-block">Cadastrar</button>
    </form>
  </ion-content>
</ion-view>
